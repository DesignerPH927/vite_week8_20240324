import{_ as p,m as _,r,o as f,c as g,d,a as e,j as l,k as c,w as h,F as w}from"./index-6BvTerDF.js";import{T as b}from"./ToastMessage-QFYtcSDc.js";import{u as v}from"./statusStore-N0jbiZgM.js";var L={VITE_URL:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"getmarried",BASE_URL:"/vite_week8_20240324/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_URL:x}=L,T={data(){return{isLoading:!0,user:{username:"getmarried@gmail.com",password:"getmarried"}}},components:{ToastMessages:b},methods:{..._(v,["pushMessage"]),loginAdmin(){this.isLoading=!0,this.$http.post(`${x}/admin/signin`,this.user).then(n=>{this.isLoading=!1;const{token:s,expired:i}=n.data;document.cookie=`getMarried=${s}; expires=${new Date(i)};`,this.$router.push("/admin/adProducts/adProductList")}).catch(n=>{this.isLoading=!1,this.pushMessage({style:"danger",title:"登入失敗",content:n.response.data.message}),this.$router.push("/login")})},HomePage(){this.$router.push("/")}},mounted(){setTimeout(()=>{this.isLoading=!1},1e3),window.onload=()=>{window.location.href.indexOf("#reloaded")===-1&&(window.location.href+="#reloaded",window.location.reload())},window.onload()}},V={class:"loginBG"},k={class:"container"},M={class:"loginWrap"},y={class:"card m-4 border border-0 loginBlur bg-transparent",style:{width:"20rem","min-width":"15rem"}},E={class:"card-body"},P=e("h3",{class:"fw-bold fs-3 text-center my-4"}," 後台管理 ",-1),A={class:"form-floating mb-4"},B=e("label",{for:"email",class:"form-label fw-bold"}," 帳號 ",-1),D={class:"form-floating mb-4"},R=e("label",{for:"password",class:"form-label fw-bold"}," 密碼 ",-1),U={class:"mb-3 d-flex gap-3"},H=e("i",{class:"bi bi-house-fill fs-4"},null,-1),S=[H];function C(n,s,i,I,t,a){const m=r("VLoading"),u=r("ToastMessages");return f(),g(w,null,[d(m,{active:t.isLoading},null,8,["active"]),d(u),e("div",V,[e("div",k,[e("div",M,[e("div",y,[e("div",E,[P,e("div",A,[l(e("input",{type:"text",class:"form-control rounded-0 bg-transparent",placeholder:"email address",id:"email","onUpdate:modelValue":s[0]||(s[0]=o=>t.user.username=o)},null,512),[[c,t.user.username,void 0,{trim:!0}]]),B]),e("div",D,[l(e("input",{type:"password",class:"form-control rounded-0 bg-transparent",placeholder:"password",id:"password","onUpdate:modelValue":s[1]||(s[1]=o=>t.user.password=o)},null,512),[[c,t.user.password]]),R]),e("div",U,[e("button",{class:"btn btn-outline-dark w-100 fw-bold rounded-0",type:"button",onClick:s[2]||(s[2]=(...o)=>a.HomePage&&a.HomePage(...o))},S),e("button",{class:"btn btn-outline-dark w-100 fw-bold rounded-0 fs-5",type:"button",onClick:s[3]||(s[3]=h((...o)=>a.loginAdmin&&a.loginAdmin(...o),["prevent"]))}," 登入 ")])])])])])])],64)}const $=p(T,[["render",C]]);export{$ as default};
